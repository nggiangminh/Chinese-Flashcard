// ðŸŽ¨ Neo-Brutalism Custom Styles
@use 'variables' as *;
@use 'sass:color';

// ===================================
// Shadow Utilities
// ===================================

.shadow-brutal-sm {
  box-shadow: 4px 4px 0 $black !important;
}

.shadow-brutal {
  box-shadow: 6px 6px 0 $black !important;
}

.shadow-brutal-lg {
  box-shadow: 8px 8px 0 $black !important;
}

.shadow-none-brutal {
  box-shadow: none !important;
}

// ===================================
// Border Utilities
// ===================================

.border-brutal {
  border: 4px solid $black !important;
}

.border-brutal-bottom {
  border-bottom: 4px solid $black !important;
}

.border-brutal-top {
  border-top: 4px solid $black !important;
}

// ===================================
// Typography Utilities
// ===================================

.text-bold {
  font-weight: 700 !important;
}

.text-black {
  font-weight: 900 !important;
}

.text-uppercase-brutal {
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 700;
}

// ===================================
// Button Enhancements
// ===================================

.btn {
  border: 4px solid $black;
  box-shadow: 4px 4px 0 $black;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 700;
  transition: transform $transition-fast, box-shadow $transition-fast;
  
  &:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0 $black;
  }
  
  &:active,
  &.active {
    transform: translate(4px, 4px);
    box-shadow: none;
  }
  
  &:disabled,
  &.disabled {
    opacity: 0.5;
    transform: none;
    box-shadow: 4px 4px 0 $black;
  }
}

.btn-outline-primary,
.btn-outline-secondary,
.btn-outline-danger {
  background-color: $white;
  
  &:hover {
    background-color: var(--bs-btn-hover-bg);
    border-color: $black;
  }
}

// ===================================
// Card Enhancements
// ===================================

.card {
  border: 4px solid $black;
  box-shadow: 6px 6px 0 $black;
  border-radius: 0;
  transition: transform $transition-base, box-shadow $transition-base;
  
  .card-header {
    border-bottom: 4px solid $black;
    background-color: transparent;
    font-weight: 900;
  }
  
  .card-footer {
    border-top: 4px solid $black;
    background-color: transparent;
  }
}

.card-hover {
  cursor: pointer;
  
  &:hover {
    transform: translate(-2px, -2px);
    box-shadow: 8px 8px 0 $black;
  }
}

// Colored card backgrounds
.card-warning {
  background-color: $warning;
}

.card-info {
  background-color: $info;
}

.card-secondary {
  background-color: $secondary;
}

// ===================================
// Form Enhancements
// ===================================

.form-control,
.form-select {
  border: 4px solid $black;
  border-radius: 0;
  
  &:focus {
    border-color: $primary;
    box-shadow: 0 0 0 0.2rem rgba($primary, 0.25);
  }
}

.form-label {
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.invalid-feedback {
  font-weight: 600;
}

// ===================================
// Modal Enhancements
// ===================================

.modal-content {
  border: 4px solid $black;
  box-shadow: 8px 8px 0 $black;
  border-radius: 0;
  
  .modal-header {
    border-bottom: 4px solid $black;
    
    .modal-title {
      font-weight: 900;
    }
  }
  
  .modal-footer {
    border-top: 4px solid $black;
  }
}

.modal.show {
  display: block !important;
}

.modal-backdrop.show {
  opacity: 0.5;
}

// ===================================
// Alert Enhancements
// ===================================

.alert {
  border: 4px solid $black;
  box-shadow: 4px 4px 0 $black;
  border-radius: 0;
  font-weight: 600;
}

// ===================================
// Badge Enhancements
// ===================================

.badge {
  border: 2px solid $black;
  border-radius: 0;
  padding: 0.25rem 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 0.75rem;
}

// ===================================
// Navbar Enhancements
// ===================================

.navbar {
  border-bottom: 4px solid $black;
  box-shadow: 0 4px 0 $black;
  
  .navbar-brand {
    font-weight: 900;
    font-size: 1.5rem;
  }
  
  .nav-link {
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.875rem;
    letter-spacing: 0.5px;
    
    &.active {
      border-bottom: 4px solid $black;
    }
  }
}

// ===================================
// Animations
// ===================================

@keyframes bounce-subtle {
  0%, 100% { 
    transform: translateY(0); 
  }
  50% { 
    transform: translateY(-10px); 
  }
}

.animate-bounce {
  animation: bounce-subtle 2s infinite;
}

// Flashcard flip animation
.flashcard-flip {
  perspective: 1000px;
  min-height: 250px; // Ensure consistent height
  
  .flashcard-inner {
    position: relative;
    width: 100%;
    min-height: 250px; // Match the card body height
    transition: transform $transition-slow;
    transform-style: preserve-3d;
  }
  
  &.flipped .flashcard-inner {
    transform: rotateY(180deg);
  }
  
  .flashcard-front,
  .flashcard-back {
    position: absolute;
    width: 100%;
    min-height: 250px; // Ensure both sides have same height
    backface-visibility: hidden;
    top: 0;
    left: 0;
  }
  
  .flashcard-back {
    transform: rotateY(180deg);
  }

  // Ensure footer stays on top and clickable
  .card-footer {
    position: relative;
    z-index: 10;
    pointer-events: auto;
  }
}

// ===================================
// Spinner/Loading
// ===================================

.spinner-border {
  border-width: 4px;
}

// ===================================
// Page-Specific Styles
// ===================================

// Login page
.login-page {
  background-color: $secondary;
  min-height: 100vh;
  
  .login-card {
    max-width: 500px;
    box-shadow: 8px 8px 0 $black;
  }
}

// Dashboard
.dashboard-page {
  background-color: $gray-100;
  min-height: 100vh;
  
  .welcome-card {
    background-color: $warning;
    border: 4px solid $black;
    box-shadow: 6px 6px 0 $black;
  }
  
  .stat-card {
    background-color: $white;
    border: 4px solid $black;
    box-shadow: 6px 6px 0 $black;
    
    .display-6 {
      font-weight: 900;
      color: $primary;
    }
  }
}

// Flashcard/Note grid
.grid-page {
  background-color: $gray-100;
  min-height: 100vh;
}

// ===================================
// Utility Classes
// ===================================

.bg-brutal-primary {
  background-color: $primary !important;
}

.bg-brutal-secondary {
  background-color: $secondary !important;
}

.bg-brutal-warning {
  background-color: $warning !important;
}

.bg-brutal-success {
  background-color: $success !important;
}

.bg-brutal-gray {
  background-color: $gray-100 !important;
}

.cursor-pointer {
  cursor: pointer;
}

.text-monospace {
  font-family: $font-family-monospace;
}

// ===================================
// Responsive Helpers
// ===================================

@media (max-width: 767px) {
  .card {
    box-shadow: 4px 4px 0 $black;
  }
  
  .btn {
    box-shadow: 3px 3px 0 $black;
    
    &:hover {
      transform: translate(1px, 1px);
      box-shadow: 2px 2px 0 $black;
    }
  }
}
